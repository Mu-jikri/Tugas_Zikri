<!DOCTYPE html>
<!---Muhammad Zikri Univ. Muhammadiyah Jakarta-->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Manajemen Transportasi</title>
  </head>
  <body>
    <h1>Sistem Manajemen Transportasi</h1>
    <form onsubmit="event.preventDefault(); tambahPelanggan();">
      <label for="nama">Nama:</label>
      <input type="text" id="nama" required />
      <br />
      <label for="nomor-telepon">Nomor Telepon:</label>
      <input type="text" id="nomor-telepon" required />
      <br />
      <label for="jenis-kendaraan">Jenis Kendaraan:</label>
      <select id="jenis-kendaraan">
        <option value="Mobil">Mobil</option>
        <option value="Motor">Motor</option>
      </select>
      <br />
      <label for="nama-kendaraan">Nama Kendaraan:</label>
      <input type="text" id="nama-kendaraan" required />
      <br />
      <button type="submit">Tambah Pelanggan</button>
    </form>
    <h2>Daftar Pelanggan yang Sedang Menyewa Kendaraan:</h2>
    <ul id="daftar-pelanggan"></ul>

    <script>
      // Kelas Kendaraan
      class Kendaraan {
        constructor(nama, tipe) {
          this.nama = nama;
          this.tipe = tipe;
        }

        infoKendaraan() {
          return `${this.nama} (${this.tipe})`;
        }
      }

      // Subkelas Mobil
      class Mobil extends Kendaraan {
        constructor(nama) {
          super(nama, "Mobil");
        }
      }

      // Subkelas Motor
      class Motor extends Kendaraan {
        constructor(nama) {
          super(nama, "Motor");
        }
      }

      // Kelas Pelanggan
      class Pelanggan {
        constructor(nama, nomorTelepon) {
          this.nama = nama;
          this.nomorTelepon = nomorTelepon;
          this.kendaraanDisewa = null;
        }

        sewaKendaraan(kendaraan) {
          this.kendaraanDisewa = kendaraan;
        }

        infoPelanggan() {
          return `${this.nama} (${
            this.nomorTelepon
          }) menyewa ${this.kendaraanDisewa.infoKendaraan()}`;
        }
      }

      // Sistem Manajemen Transportasi
      class SistemManajemenTransportasi {
        constructor() {
          this.daftarPelanggan = [];
        }

        tambahPelanggan(pelanggan, kendaraan) {
          pelanggan.sewaKendaraan(kendaraan);
          this.daftarPelanggan.push(pelanggan);
          this.perbaruiTampilan();
        }

        perbaruiTampilan() {
          const daftarPelangganEl = document.getElementById("daftar-pelanggan");
          daftarPelangganEl.innerHTML = "";

          if (this.daftarPelanggan.length === 0) {
            daftarPelangganEl.innerHTML =
              "<li>Tidak ada pelanggan yang sedang menyewa kendaraan.</li>";
          } else {
            this.daftarPelanggan.forEach((pelanggan, index) => {
              const li = document.createElement("li");
              li.textContent = `${index + 1}. ${pelanggan.infoPelanggan()}`;
              daftarPelangganEl.appendChild(li);
            });
          }
        }
      }

      // Contoh Penggunaan
      const sistem = new SistemManajemenTransportasi();

      function tambahPelanggan() {
        const nama = document.getElementById("nama").value;
        const nomorTelepon = document.getElementById("nomor-telepon").value;
        const jenisKendaraan = document.getElementById("jenis-kendaraan").value;
        const namaKendaraan = document.getElementById("nama-kendaraan").value;

        if (nama && nomorTelepon && jenisKendaraan && namaKendaraan) {
          const pelanggan = new Pelanggan(nama, nomorTelepon);
          const kendaraan =
            jenisKendaraan === "Mobil"
              ? new Mobil(namaKendaraan)
              : new Motor(namaKendaraan);
          sistem.tambahPelanggan(pelanggan, kendaraan);

          // Reset form
          document.getElementById("nama").value = "";
          document.getElementById("nomor-telepon").value = "";
          document.getElementById("jenis-kendaraan").value = "Mobil";
          document.getElementById("nama-kendaraan").value = "";
        } else {
          alert("Harap isi semua kolom.");
        }
      }

      // Inisialisasi tampilan pertama kali
      sistem.perbaruiTampilan();
    </script>
  </body>
</html>
